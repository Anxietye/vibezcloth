{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="account-page-layout">
        <!-- Sidebar (se mantiene consistente) -->
        <aside class="account-sidebar">
            <h2>MY ACCOUNT</h2>
            <nav class="account-nav">
                <ul>
                    <li><a href="{{ url_for('my_account_page') }}">Dashboard</a></li>
                    <li><a href="{{ url_for('my_account_orders') }}" class="active">Orders</a></li>
                    <li><a href="{{ url_for('my_account_downloads') }}">Downloads</a></li>
                    <li><a href="{{ url_for('wishlist_page') }}">Wishlist</a></li>
                    <li><a href="{{ url_for('logout') }}">Log out</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Contenido Principal: Tabla de Pedidos -->
        <main class="account-content">
            <h2>Orders</h2>
            <table class="orders-table">
                <thead>
                    <tr>
                        <th>Order</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Total</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr>
                        <!-- AÃ±adimos los data-label a cada celda -->
                        <td data-label="Order">#{{ order.order_number }}</td>
                        <td data-label="Date"><strong class="local-date"
                                data-utc-date="{{ order.date.isoformat() }}Z">...</strong></td>
                        <td data-label="Status"><span class="status-completed">{{ order.status }}</span></td>
                        <td data-label="Total">${{ "%.2f"|format(order.total) }}</td>
                        <td data-label="Actions">
                            <a href="{{ url_for('view_order_page', order_number=order.order_number) }}"
                                class="orders-action-btn">View</a>
                        </td>
                    </tr>
                    {% else %}
                    <!-- Mensaje para cuando no hay pedidos -->
                    <tr>
                        <td colspan="5" class="no-orders-msg">
                            No order has been made yet.
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </main>
    </div>
</div>
{% endblock %}