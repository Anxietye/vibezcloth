{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="account-page-layout">
        <!-- Sidebar (se mentiene consistente) -->
        <aside class="account-sidebar">
            <h2>MY ACCOUNT</h2>
            <nav class="account-nav">
                <ul>
                    <li><a href="{{ url_for('my_account_page') }}">Dashboard</a></li>
                    <li><a href="{{ url_for('my_account_orders') }}">Orders</a></li>
                    <li><a href="{{ url_for('my_account_downloads') }}" class="active">Downloads</a></li>
                    <li><a href="{{ url_for('wishlist_page') }}">Wishlist</a></li>
                    <li><a href="{{ url_for('logout') }}">Log out</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Contenido Principal: Tabla de Descargas -->
        <main class="account-content">
            <h2><i class="fa-solid fa-cloud-arrow-down"></i> Downloads</h2>
            <table class="downloads-table-account">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Expires</th>
                        <th>Download</th>
                    </tr>
                </thead>
                <tbody>
                    {% for download in downloads %}
                    <tr>
                        <!-- AÃ±adimos los data-label a cada celda -->
                        <td data-label="Product">{{ download.product_name }}</td>
                        <td data-label="Expires">Never</td>
                        <td data-label="Download">
                            <a href="{{ url_for('download_file', filename=download.download_file) }}"
                                class="download-btn">DOWNLOAD</a>
                        </td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="3" class="no-orders-msg">No downloads available yet.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </main>
    </div>
</div>
{% endblock %}